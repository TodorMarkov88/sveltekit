import{S as j,i as q,s as R,e as h,t as I,k as y,c as _,a as v,h as L,d as u,m as x,b as c,g as $,K as p,a1 as U,R as V,a2 as Q,L as F,T as Y,D as z,N as G,w as J,x as W,y as X,O as Z,P as ee,Q as te,q as H,o as K,B as ae}from"../../chunks/vendor-adc3119f.js";import{s as C}from"../../chunks/db-9f0e295e.js";function le(f){let a,n,o,l,i,t,e,r,b,k,S,m,A,g,T,B,D;return{c(){a=h("h1"),n=I("Log In"),o=y(),l=h("p"),i=I("Sign In via magic link with your email"),t=y(),e=h("form"),r=h("div"),b=h("label"),k=I("Email"),S=y(),m=h("input"),A=y(),g=h("button"),T=I("Log In"),this.h()},l(s){a=_(s,"H1",{class:!0});var d=v(a);n=L(d,"Log In"),d.forEach(u),o=x(s),l=_(s,"P",{class:!0});var N=v(l);i=L(N,"Sign In via magic link with your email"),N.forEach(u),t=x(s),e=_(s,"FORM",{});var w=v(e);r=_(w,"DIV",{class:!0});var E=v(r);b=_(E,"LABEL",{class:!0,for:!0});var O=v(b);k=L(O,"Email"),O.forEach(u),S=x(E),m=_(E,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),E.forEach(u),A=x(w),g=_(w,"BUTTON",{class:!0,type:!0});var P=v(g);T=L(P,"Log In"),P.forEach(u),w.forEach(u),this.h()},h(){c(a,"class","text-2xl font-bold text-center text-gray-800 md:text-3xl"),c(l,"class","text-center mt-2"),c(b,"class","font-bold mb-2 text-gray-800"),c(b,"for","email"),c(m,"class","appearance-none shadow-sm border border-gray-200 p-2 focus:outline-none focus:border-gray-500 rounded-lg"),c(m,"name","email"),c(m,"type","email"),c(m,"placeholder","Your email"),c(r,"class","flex flex-col text-sm mb-2"),c(g,"class","w-full shadow-sm rounded bg-blue-500 hover:bg-blue-600 text-white py-2 px-4"),c(g,"type","submit")},m(s,d){$(s,a,d),p(a,n),$(s,o,d),$(s,l,d),p(l,i),$(s,t,d),$(s,e,d),p(e,r),p(r,b),p(b,k),p(r,S),p(r,m),U(m,f[0]),p(e,A),p(e,g),p(g,T),B||(D=[V(m,"input",f[2]),V(e,"submit",Q(f[1]))],B=!0)},p(s,[d]){d&1&&m.value!==s[0]&&U(m,s[0])},i:F,o:F,d(s){s&&u(a),s&&u(o),s&&u(l),s&&u(t),s&&u(e),B=!1,Y(D)}}}function se(f,a,n){let o=!1,l;const i=async()=>{try{o=!0;const{error:e}=await C.auth.signIn({email:l});if(e)throw e;alert("Check your email for login link")}catch(e){alert(e.error_discription||e.message)}finally{o=!1}};function t(){l=this.value,n(0,l)}return[l,i,t]}class re extends j{constructor(a){super();q(this,a,se,le,R,{})}}const M=z(!1);function ne(f){let a,n,o,l;n=new re({});const i=f[1].default,t=G(i,f,f[0],null);return{c(){a=h("div"),J(n.$$.fragment),o=y(),t&&t.c(),this.h()},l(e){a=_(e,"DIV",{class:!0});var r=v(a);W(n.$$.fragment,r),o=x(r),t&&t.l(r),r.forEach(u),this.h()},h(){c(a,"class","container mx-auto my-6 max-w-lg")},m(e,r){$(e,a,r),X(n,a,null),p(a,o),t&&t.m(a,null),l=!0},p(e,[r]){t&&t.p&&(!l||r&1)&&Z(t,i,e,e[0],l?te(i,e[0],r,null):ee(e[0]),null)},i(e){l||(H(n.$$.fragment,e),H(t,e),l=!0)},o(e){K(n.$$.fragment,e),K(t,e),l=!1},d(e){e&&u(a),ae(n),t&&t.d(e)}}}function oe(f,a,n){let{$$slots:o={},$$scope:l}=a;return M.set(C.auth.user()),C.auth.onAuthStateChange((i,t)=>{M.set(t==null?void 0:t.user),t==null?void 0:t.user}),f.$$set=i=>{"$$scope"in i&&n(0,l=i.$$scope)},[l,o]}class fe extends j{constructor(a){super();q(this,a,oe,ne,R,{})}}export{fe as default};
