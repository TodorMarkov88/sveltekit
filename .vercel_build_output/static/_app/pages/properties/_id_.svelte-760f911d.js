import{S as Ut,i as qt,s as Rt,e as o,t as _,c as n,a as u,g as p,d as a,b as s,f as H,I as e,j as h,U as Ct,l as m,G as Bt,Q as Gt,h as w,J as zt,V as Nt}from"../../chunks/vendor-e1a58fde.js";import{s as kt}from"../../chunks/db-67512a3e.js";function Pt(t,c,y){const g=t.slice();return g[7]=c[y],g[9]=y,g}function jt(t){let c,y=t[7].name+"",g,V,d;return{c(){c=o("option"),g=_(y),this.h()},l(I){c=n(I,"OPTION",{class:!0});var v=u(c);g=p(v,y),v.forEach(a),this.h()},h(){s(c,"class","leading-none text-left"),c.__value=V=t[9],c.value=c.__value,c.selected=d=t[7].name===t[1].name},m(I,v){H(I,c,v),e(c,g)},p(I,v){v&2&&d!==(d=I[7].name===I[1].name)&&(c.selected=d)},d(I){I&&a(c)}}}function At(t){let c,y,g,V=t[0][0].offer_title+"",d,I,v,P,N=t[0][0].location_country+"",S,x,q,le=t[0][0].location_city+"",ie,ze,O,se=t[0][0].location_hood+"",de,ue,j,T,B,ve,fe,Pe,D,R,J,je,Ue,C,qe,G,_e,Re,L,Ce,Ge,k,pe,Ne,ke,M,Ae,He,r,Q,xe,Oe,F,ae=t[0][0].type_desc+"",he,Te,me,Je,K,Le,Me,A,re=t[0][0].area_size+"",ge,Qe,Fe,Ee,Ke,W,We,Xe,X,oe=t[0][0].storeys+"",ye,Ye,Ie,Ze,Y,$e,et,Z,ne=t[0][0].floor+"",be,tt,De,lt,$,st,at,ee,ce=t[0][0].bedrooms+"",Ve,rt,it;document.title=c=t[0][0].type_desc;let te=t[4],b=[];for(let l=0;l<te.length;l+=1)b[l]=jt(Pt(t,te,l));return{c(){y=h(),g=o("h1"),d=_(V),I=h(),v=o("div"),P=o("span"),S=_(N),x=_(`/\r
  `),q=o("span"),ie=_(le),ze=_(` /\r
  `),O=o("span"),de=_(se),ue=h(),j=o("div"),T=o("div"),B=o("img"),Pe=h(),D=o("div"),R=o("div"),J=o("div"),je=_("\u0426\u0435\u043D\u0430:"),Ue=h(),C=o("select");for(let l=0;l<b.length;l+=1)b[l].c();qe=h(),G=o("div"),_e=_(t[3]),Re=h(),L=o("span"),Ce=_("(\u0431\u0435\u0437 \u0434\u0434\u0441)"),Ge=h(),k=o("div"),pe=_(t[2]),Ne=_("/\u043C\xB2 (\u0431\u0435\u0437 \u0434\u0434\u0441)"),ke=h(),M=o("div"),Ae=_("\u0411\u0435\u0437 \u043A\u043E\u043C\u0438\u0441\u0438\u043E\u043D\u0430 \u043E\u0442 \u043A\u0443\u043F\u0443\u0432\u0430\u0447\u0430"),He=h(),r=o("div"),Q=o("div"),xe=_("\u0422\u0438\u043F:"),Oe=h(),F=o("div"),he=_(ae),Te=h(),me=o("hr"),Je=h(),K=o("div"),Le=_("\u041F\u043B\u043E\u0449:"),Me=h(),A=o("div"),ge=_(re),Qe=_(" \u043C\xB2"),Fe=h(),Ee=o("hr"),Ke=h(),W=o("div"),We=_("\u0415\u0442\u0430\u0436\u043D\u043E\u0441\u0442:"),Xe=h(),X=o("div"),ye=_(oe),Ye=h(),Ie=o("hr"),Ze=h(),Y=o("div"),$e=_("\u0415\u0442\u0430\u0436:"),et=h(),Z=o("div"),be=_(ne),tt=h(),De=o("hr"),lt=h(),$=o("div"),st=_("\u0421\u043F\u0430\u043B\u043D\u0438:"),at=h(),ee=o("div"),Ve=_(ce),this.h()},l(l){Ct('[data-svelte="svelte-1cww8t3"]',document.head).forEach(a),y=m(l),g=n(l,"H1",{class:!0});var E=u(g);d=p(E,V),E.forEach(a),I=m(l),v=n(l,"DIV",{class:!0});var U=u(v);P=n(U,"SPAN",{class:!0});var dt=u(P);S=p(dt,N),dt.forEach(a),x=p(U,`/\r
  `),q=n(U,"SPAN",{class:!0});var ut=u(q);ie=p(ut,le),ut.forEach(a),ze=p(U,` /\r
  `),O=n(U,"SPAN",{class:!0});var vt=u(O);de=p(vt,se),vt.forEach(a),U.forEach(a),ue=m(l),j=n(l,"DIV",{class:!0});var Se=u(j);T=n(Se,"DIV",{class:!0});var ft=u(T);B=n(ft,"IMG",{class:!0,src:!0,alt:!0}),ft.forEach(a),Pe=m(Se),D=n(Se,"DIV",{class:!0});var z=u(D);R=n(z,"DIV",{class:!0});var we=u(R);J=n(we,"DIV",{class:!0});var _t=u(J);je=p(_t,"\u0426\u0435\u043D\u0430:"),_t.forEach(a),Ue=m(we),C=n(we,"SELECT",{class:!0});var pt=u(C);for(let ct=0;ct<b.length;ct+=1)b[ct].l(pt);pt.forEach(a),we.forEach(a),qe=m(z),G=n(z,"DIV",{class:!0});var Be=u(G);_e=p(Be,t[3]),Re=m(Be),L=n(Be,"SPAN",{class:!0});var ht=u(L);Ce=p(ht,"(\u0431\u0435\u0437 \u0434\u0434\u0441)"),ht.forEach(a),Be.forEach(a),Ge=m(z),k=n(z,"DIV",{class:!0});var ot=u(k);pe=p(ot,t[2]),Ne=p(ot,"/\u043C\xB2 (\u0431\u0435\u0437 \u0434\u0434\u0441)"),ot.forEach(a),ke=m(z),M=n(z,"DIV",{class:!0});var mt=u(M);Ae=p(mt,"\u0411\u0435\u0437 \u043A\u043E\u043C\u0438\u0441\u0438\u043E\u043D\u0430 \u043E\u0442 \u043A\u0443\u043F\u0443\u0432\u0430\u0447\u0430"),mt.forEach(a),He=m(z),r=n(z,"DIV",{class:!0});var i=u(r);Q=n(i,"DIV",{class:!0});var gt=u(Q);xe=p(gt,"\u0422\u0438\u043F:"),gt.forEach(a),Oe=m(i),F=n(i,"DIV",{class:!0});var Et=u(F);he=p(Et,ae),Et.forEach(a),Te=m(i),me=n(i,"HR",{class:!0}),Je=m(i),K=n(i,"DIV",{class:!0});var yt=u(K);Le=p(yt,"\u041F\u043B\u043E\u0449:"),yt.forEach(a),Me=m(i),A=n(i,"DIV",{class:!0});var nt=u(A);ge=p(nt,re),Qe=p(nt," \u043C\xB2"),nt.forEach(a),Fe=m(i),Ee=n(i,"HR",{class:!0}),Ke=m(i),W=n(i,"DIV",{class:!0});var It=u(W);We=p(It,"\u0415\u0442\u0430\u0436\u043D\u043E\u0441\u0442:"),It.forEach(a),Xe=m(i),X=n(i,"DIV",{class:!0});var bt=u(X);ye=p(bt,oe),bt.forEach(a),Ye=m(i),Ie=n(i,"HR",{class:!0}),Ze=m(i),Y=n(i,"DIV",{class:!0});var Dt=u(Y);$e=p(Dt,"\u0415\u0442\u0430\u0436:"),Dt.forEach(a),et=m(i),Z=n(i,"DIV",{class:!0});var Vt=u(Z);be=p(Vt,ne),Vt.forEach(a),tt=m(i),De=n(i,"HR",{class:!0}),lt=m(i),$=n(i,"DIV",{class:!0});var St=u($);st=p(St,"\u0421\u043F\u0430\u043B\u043D\u0438:"),St.forEach(a),at=m(i),ee=n(i,"DIV",{class:!0});var wt=u(ee);Ve=p(wt,ce),wt.forEach(a),i.forEach(a),z.forEach(a),Se.forEach(a),this.h()},h(){s(g,"class","text-4xl my-4 font-bold"),s(P,"class","text-neutral-500 mx-2"),s(q,"class","text-neutral-500 mx-2"),s(O,"class","text-neutral-500 mx-2"),s(v,"class","flex justify-center"),s(B,"class","fade-in h-48 w-full object-cover md:h-full md:w-full svelte-tdbxpo"),Bt(B.src,ve=t[0][0].image)||s(B,"src",ve),s(B,"alt",fe=t[0][0].type_desc),s(T,"class","col-span-2 "),s(J,"class","font-semibold mr-2"),s(C,"class","px-1 border-solid border-2 border-gray-600 rounded-md text-sm"),s(R,"class","flex flex-row"),s(L,"class","text-base"),s(G,"class","text-3xl my-3"),s(k,"class","text-lg mb-1"),s(M,"class","text-sm font-bold"),s(Q,"class","col-span-1 text-neutral-500"),s(F,"class","col-span-2"),s(me,"class","text-zinc-900 w-full col-span-3 border-t-2 my-2 "),s(K,"class","col-span-1 text-neutral-500"),s(A,"class","col-span-2"),s(Ee,"class","text-zinc-900 w-full col-span-3 border-t-2 my-2 "),s(W,"class","col-span-1 text-neutral-500"),s(X,"class","col-span-2"),s(Ie,"class","text-zinc-900 w-full col-span-3 border-t-2 my-2 "),s(Y,"class","col-span-1 text-neutral-500"),s(Z,"class","col-span-2"),s(De,"class","text-zinc-900 w-full col-span-3 border-t-2 my-2 "),s($,"class","col-span-1 text-neutral-500"),s(ee,"class","col-span-2"),s(r,"class","grid grid-cols-3 mt-5 "),s(D,"class","bg-white pt-4 px-5"),s(j,"class","grid grid-cols-3 mt-4")},m(l,f){H(l,y,f),H(l,g,f),e(g,d),H(l,I,f),H(l,v,f),e(v,P),e(P,S),e(v,x),e(v,q),e(q,ie),e(v,ze),e(v,O),e(O,de),H(l,ue,f),H(l,j,f),e(j,T),e(T,B),e(j,Pe),e(j,D),e(D,R),e(R,J),e(J,je),e(R,Ue),e(R,C);for(let E=0;E<b.length;E+=1)b[E].m(C,null);e(D,qe),e(D,G),e(G,_e),e(G,Re),e(G,L),e(L,Ce),e(D,Ge),e(D,k),e(k,pe),e(k,Ne),e(D,ke),e(D,M),e(M,Ae),e(D,He),e(D,r),e(r,Q),e(Q,xe),e(r,Oe),e(r,F),e(F,he),e(r,Te),e(r,me),e(r,Je),e(r,K),e(K,Le),e(r,Me),e(r,A),e(A,ge),e(A,Qe),e(r,Fe),e(r,Ee),e(r,Ke),e(r,W),e(W,We),e(r,Xe),e(r,X),e(X,ye),e(r,Ye),e(r,Ie),e(r,Ze),e(r,Y),e(Y,$e),e(r,et),e(r,Z),e(Z,be),e(r,tt),e(r,De),e(r,lt),e(r,$),e($,st),e(r,at),e(r,ee),e(ee,Ve),rt||(it=Gt(C,"change",t[6]),rt=!0)},p(l,[f]){if(f&1&&c!==(c=l[0][0].type_desc)&&(document.title=c),f&1&&V!==(V=l[0][0].offer_title+"")&&w(d,V),f&1&&N!==(N=l[0][0].location_country+"")&&w(S,N),f&1&&le!==(le=l[0][0].location_city+"")&&w(ie,le),f&1&&se!==(se=l[0][0].location_hood+"")&&w(de,se),f&1&&!Bt(B.src,ve=l[0][0].image)&&s(B,"src",ve),f&1&&fe!==(fe=l[0][0].type_desc)&&s(B,"alt",fe),f&18){te=l[4];let E;for(E=0;E<te.length;E+=1){const U=Pt(l,te,E);b[E]?b[E].p(U,f):(b[E]=jt(U),b[E].c(),b[E].m(C,null))}for(;E<b.length;E+=1)b[E].d(1);b.length=te.length}f&8&&w(_e,l[3]),f&4&&w(pe,l[2]),f&1&&ae!==(ae=l[0][0].type_desc+"")&&w(he,ae),f&1&&re!==(re=l[0][0].area_size+"")&&w(ge,re),f&1&&oe!==(oe=l[0][0].storeys+"")&&w(ye,oe),f&1&&ne!==(ne=l[0][0].floor+"")&&w(be,ne),f&1&&ce!==(ce=l[0][0].bedrooms+"")&&w(Ve,ce)},i:zt,o:zt,d(l){l&&a(y),l&&a(g),l&&a(I),l&&a(v),l&&a(ue),l&&a(j),Nt(b,l),rt=!1,it()}}}async function Lt({page:t}){const c=t.params.id,{data:y,error:g}=await kt.from("properties").select().eq("id",c),V=y.map((d,I)=>({type_desc:d.type_desc,image:`https://nphykmdyafqximjeemqm.supabase.in/storage/v1/object/public/images/${c}.jpeg`,offer_title:d.offer_title,currency:d.currency,area_size:d.area_size,price:d.price,bedrooms:d.bedrooms,storeys:d.storeys,floor:d.floor,location_country:d.location_country,location_city:d.location_city,location_hood:d.location_hood}));if(g)throw new Error(g.message);return{props:{data:V}}}function Ht(t){return t.name==="EUR"?"\u20AC"+parseInt(t.price).toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):t.name==="USD"?"$"+parseInt(t.price*1.13).toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):t.name==="GBP"?"\xA3"+parseInt(t.price*.84).toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):parseInt(t.price*1.95).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" \u043B\u0432."}function xt(t){let c=t.price/t.area_size;return t.name==="EUR"?parseInt(c).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" \u20AC":t.name==="USD"?parseInt(c*1.13).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" $":t.name==="GBP"?parseInt(c*.84).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" \xA3":parseInt(c*1.95).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" \u043B\u0432."}function Ot(t,c,y){let g,V,{data:d}=c;const I=[{name:"USD"},{name:"BGN"},{name:"EUR"},{name:"GBP"}];let v={name:d[0].currency,price:d[0].price,area_size:d[0].area_size};function P(S,x,q){y(1,v[x]=S[q],v),y(1,v.name=S[x].name,v)}const N=S=>P(I,S.target.value);return t.$$set=S=>{"data"in S&&y(0,d=S.data)},t.$$.update=()=>{t.$$.dirty&2&&y(3,g=Ht(v)),t.$$.dirty&2&&y(2,V=xt(v))},[d,v,V,g,I,P,N]}class Mt extends Ut{constructor(c){super();qt(this,c,Ot,At,Rt,{data:0})}}export{Mt as default,Lt as load};
